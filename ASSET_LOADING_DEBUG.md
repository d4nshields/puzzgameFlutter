# Asset Loading Debug Guide\n\n**Issue**: Assets exist on disk but Flutter can't load them via `rootBundle.load()`\n\n## Debugging Steps\n\n### 1. **Clean and Rebuild**\n```bash\nflutter clean\nflutter pub get\nflutter build linux --release\n```\n\n### 2. **Verify pubspec.yaml Asset Declaration**\nEnsure this is in your `pubspec.yaml`:\n```yaml\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/images/\n    - assets/puzzles/\n```\n\n### 3. **Test Asset Loading Manually**\nAdd this test in your game screen to verify assets are accessible:\n\n```dart\n// Add this method to GameScreen for testing\nFuture<void> _testAssetLoading() async {\n  try {\n    final data = await rootBundle.load('assets/puzzles/sample_puzzle_01/layouts/8x8/pieces/0_0.png');\n    print('✅ Asset loading test PASSED: ${data.lengthInBytes} bytes');\n  } catch (e) {\n    print('❌ Asset loading test FAILED: $e');\n  }\n}\n\n// Call this in your build method or initState\n```\n\n### 4. **Check File Paths**\nVerify these files exist:\n- `assets/puzzles/sample_puzzle_01/layouts/8x8/pieces/0_0.png`\n- `assets/puzzles/sample_puzzle_01/layouts/12x12/pieces/0_0.png`\n- `assets/puzzles/sample_puzzle_01/layouts/15x15/pieces/0_0.png`\n- `assets/puzzles/sample_puzzle_01/preview.jpg`\n\n### 5. **Simplified Asset Manager**\nIf the issue persists, try this simplified test:\n\n```dart\nFuture<void> testPuzzleAssets() async {\n  const testPaths = [\n    'assets/puzzles/sample_puzzle_01/preview.jpg',\n    'assets/puzzles/sample_puzzle_01/layouts/8x8/pieces/0_0.png',\n    'assets/puzzles/sample_puzzle_01/layouts/12x12/pieces/0_0.png',\n    'assets/puzzles/sample_puzzle_01/layouts/15x15/pieces/0_0.png',\n  ];\n  \n  for (final path in testPaths) {\n    try {\n      final data = await rootBundle.load(path);\n      print('✅ $path (${data.lengthInBytes} bytes)');\n    } catch (e) {\n      print('❌ $path: $e');\n    }\n  }\n}\n```\n\n## Common Solutions\n\n### **Solution 1: Hot Restart Required**\nAfter changing `pubspec.yaml` assets, you need a **full restart**, not just hot reload:\n- Stop the app completely\n- Run `flutter clean && flutter pub get`\n- Rebuild and restart\n\n### **Solution 2: Asset Bundle Regeneration**\nSometimes the asset bundle doesn't update properly:\n```bash\nrm -rf build/\nflutter clean\nflutter pub get\nflutter build linux\n```\n\n### **Solution 3: Case Sensitivity**\nEnsure file names match exactly (case-sensitive on Linux):\n- `0_0.png` not `0_0.PNG`\n- `preview.jpg` not `Preview.jpg`\n\n### **Solution 4: Asset Path Verification**\nDouble-check the relative path from project root:\n```\npuzzgameFlutter/\n├── pubspec.yaml\n├── lib/\n└── assets/\n    └── puzzles/\n        └── sample_puzzle_01/\n            ├── preview.jpg\n            └── layouts/\n                ├── 8x8/pieces/0_0.png\n                ├── 12x12/pieces/0_0.png\n                └── 15x15/pieces/0_0.png\n```\n\n## Expected Debug Output\n\nAfter the fix, you should see:\n```\nPuzzleAssetManager: ✅ Found grid size 8x8 for sample_puzzle_01 (12345 bytes)\nPuzzleAssetManager: ✅ Found grid size 12x12 for sample_puzzle_01 (23456 bytes)\nPuzzleAssetManager: ✅ Found grid size 15x15 for sample_puzzle_01 (34567 bytes)\nPuzzleAssetManager: ✅ Found 3 grid sizes for sample_puzzle_01: [8x8, 12x12, 15x15]\nPuzzleGameModule: Asset manager initialized with 1 puzzles\n```\n\nInstead of:\n```\nPuzzleAssetManager: ❌ Grid size 8x8 not available for sample_puzzle_01\nException: No puzzles available\n```\n